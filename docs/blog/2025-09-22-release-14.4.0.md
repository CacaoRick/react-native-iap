---
slug: release-14.4.0
title: Release 14.4.0 - Full OpenIAP Ecosystem Adoption
authors: [hyochan]
tags: [release]
description: React Native IAP 14.4.0 graduates into the full OpenIAP ecosystem with unified native stacks, improved error handling, and streamlined purchase flows.
image: https://github.com/hyochan/react-native-iap/raw/main/docs/static/img/logo.png
---

![React Native IAP Logo](https://github.com/hyochan/react-native-iap/raw/main/docs/static/img/logo.png)

# React Native IAP 14.4.0

React Native IAP 14.4.0 graduates the project into the full OpenIAP ecosystem. The release ships with three dedicated native stacks:

- [**openiap-apple**](https://github.com/openiap/apple) ‚Äî StoreKit 2 implementation for Apple platforms
- [**openiap-google**](https://github.com/openiap/google) ‚Äî Google Play Billing integration for Android
- [**openiap-gql**](https://github.com/openiap/gql) ‚Äî GraphQL helpers that drive types and tooling

From 14.4.0 onward, React Native IAP stays in lockstep with these modules: Apple v1.2.2, Google v1.2.6, and GQL v1.0.8. That shared version alignment gives React Native IAP stable native compatibility and a unified type system straight from the OpenIAP schema.

## üöÄ Highlights

- Adopted the full OpenIAP core stack‚Äî**openiap-gql**, **openiap-apple v1.2.2**, and **openiap-google v1.2.6**‚Äîbringing React Native IAP into alignment with the shared ecosystem used across Flutter, React Native, and KMP.
- Trimmed roughly **two thirds** of our custom native bridge code by delegating logic to the OpenIAP modules.
- Expanded automated coverage to about **98%**, spanning purchase flows, native bridge entry points, and error mapping utilities.

## üîÅ OpenIAP Upgrades

- Normalized purchase payloads on both platforms so every bridge call sanitizes platform casing and forwards the complete OpenIAP record.
- Migrated Android to the new RequestPurchaseProps / PurchaseResult / ErrorCode contracts, achieving parity with the Apple module.
- Centralized native dependency versions via [`openiap-versions.json`](https://github.com/hyochan/react-native-iap/blob/main/openiap-versions.json); Gradle now fails fast if the Google artifact version is missing and scripts/migrations read from one source of truth.

## üêû Bug Fixes

- **fix(android)**: honor subscription offerToken ([#214](https://github.com/hyochan/react-native-iap/pull/214)) restores proper handling of `subscriptionOfferDetailsAndroid` so Google Play discounts apply reliably.

## üõ°Ô∏è Safer Purchases & Better Errors

- `requestPurchase` on iOS explicitly rejects unsupported product types instead of silently treating all as in-app.
- Error handling now consistently routes through the shared ErrorCode table so promise rejections, platform conversions, and predicates remain aligned.

## üõ†Ô∏è Tooling & Workflow

- Contributor docs clarify how to bump OpenIAP packages, regenerate types, and keep `openiap-versions.json` synchronized for Android and iOS builds.

## ‚ö†Ô∏è Important Changes

- **Transaction identifiers**: `transactionId` is reinstated as the primary store reference (`orderId` on Android, StoreKit transaction ID on iOS). Android's generic `id` is no longer repurposed for orders; when Google Play omits an `orderId` (typical for consumables), `transactionId` becomes `null` and clients should rely on the unified `purchaseToken` (Android purchase token / iOS JWS). This value is the canonical receipt for server validation.
- **iOS request types**: purchase requests must specify either `in-app` or `subs`. Passing `all` (or any other type) throws an explicit error.
- **Promoted products**: events now emit the full sanitized product payload; downstream listeners should expect the entire object instead of just `productId`.

## üì¶ Installation

```bash
npm install react-native-iap@14.4.0
# or
yarn add react-native-iap@14.4.0
# or
bun add react-native-iap@14.4.0
```

## üîó References

- Recent work: [Closed pull requests](https://github.com/hyochan/react-native-iap/pulls?q=is%3Apr+is%3Aclosed)
- Release builds on the OpenIAP ecosystem: [openiap.dev](https://openiap.dev)

Enjoy the smoother upgrade path and richer diagnostics shipped in 14.4.0! Let us know how it goes via [GitHub issues](https://github.com/hyochan/react-native-iap/issues).

---

<!-- truncate -->
